<body>
  <!-- header/nav -->

  <div class="search-box">
    <input type="text" id="globalSearch" placeholder="Search ..." />
    <button id="globalSearchBtn">Search</button>
  </div>

  <div id="searchResults"></div>

  <script>
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);
    const query = urlParams.get('query')?.toLowerCase();

    const movies = [
      {
        id: "3",
        title: "The Royals",
        poster: "https://i.pinimg.com/736x/2f/6c/74/2f6c745376fe03d434cad1c58e7c67f9.jpg",
        genres: ["Drama","Romance"],
        year: "2025",
        qualities: ["1080p","720p","480p"],
        language: ["Hindi","Telugu"],
        review: `'The Royals' follows the lives of a frictional british royal family, blending glamour, scandal, and intrigue. At the center of the story is  Queen Helena (played by Elizabeth Hurley), a cunning and image- conscious matriarch determined to preserve the monarchy's dignity amidst chaos. After the sudden death of the heir to the throne, Prince Robert, the monarchy is thrown into disarray.
       
His Younger brother, Prince Liam, unexpectedly becomes the next in line, and he struggles with the burden of royal expectations while also dealing with romantic entanglements and personal demons. His twin sister, Princess Eleanor, is a rebellious royal known for her wild lifestyle, constantly attracting tabloid attention.
      
Meanwhile, King Simon seeks to reform the monarchy and make it more transparent and democratic, but his ideals put him at odds with others  within the palace—including Helena and the manipulative Lord Chamberlain, Cyrus, who harbors ambitions of his own.
        
The show dives deep into palace conspiracies, secret romances, betrayal, and power plays, presenting a darker, sexier, and more tumultuous view of royalty.
         
.`,
        imdb: "4.8",
        downloads: {
          "1080p": "https://gplinks.co/0MR82q",
          "720p": "https://gplinks.co/VJ7awz",
          "480p": "https://gplinks.co/dKmudBh"
      },
      {
        id: "1",
        title: "Pushpa 2: The Rule",
        poster: "https://i.pinimg.com/736x/f5/ec/3b/f5ec3b1c4430e2bd3ebe82d6e4636464.jpg",
        genres: ["Action","Crime","Drama","Thriller"],
        year: "2024",
        qualities: ["1080p","720p","480p"],
        language: ["Hindi"],
        review: `The film opens with a dramatic scene at the Yokohama port in Japan, where Pushpa is discovered hidden inside a red sandalwood consignment. He demands payment but is shot and falls into the sea, triggering a flashback. Having humiliated SP Bhanwar Singh Shekhawat (Fahadh Faasil) in the previous installment, Pushpa's influence in the smuggling syndicate grows. Offended by the Chief Minister's refusal to be photographed with him, Pushpa vows to install Siddappa (Rao Ramesh) as the new CM, raising ₹500 crores through smuggling operations .

Pushpa strikes a deal with Central Minister Kogatam Veera Pratap Reddy (Jagapathi Babu) and plans to sell 2,000 tons of red sandalwood for ₹5,000 crores. However, internal betrayals and external threats, including from Mangalam Srinu, Dakshayani, and the vengeful Shekhawat, jeopardize his ambitions .`,
        imdb: "6.1",
        downloads: {
          "1080p": "https://gplinks.co/z7cj2VX8",
          "720p": "https://gplinks.co/hO08szA4",
          "480p": "https://gplinks.co/5rYHW"
      }
      // add more movie objects
    ];

    const resultsContainer = document.getElementById("searchResults");
    if (query && resultsContainer) {
      const results = movies.filter(movie =>
        movie.title.toLowerCase().includes(query) ||
        movie.genres.some(g => g.toLowerCase().includes(query)) ||
        movie.quality.some(q => q.includes(query)) ||
        movie.year.includes(query)
      );

      if (results.length > 0) {
        resultsContainer.innerHTML = results.map(movie => `
          <div class="movie-card">
            <a href="download.html?movieId=${movie.id}">
              <img src="${movie.poster}" alt="${movie.title}">
              <h3>${movie.title}</h3>
            </a>
          </div>
        `).join('');
      } else {
        resultsContainer.innerHTML = "<p>No results found.</p>";
      }
    }
  </script>

  <!-- Paste shared JS here too -->
</body>
